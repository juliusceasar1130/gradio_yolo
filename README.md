# YOLOæ£€æµ‹å·¥å…· - é‡æ„ç‰ˆ

**åˆ›å»ºè€…/ä¿®æ”¹è€…**: chenliang  
**ä¿®æ”¹æ—¶é—´**: 2025å¹´7æœˆ27æ—¥ 23:25  
**ä¸»è¦ä¿®æ”¹å†…å®¹**: é¡¹ç›®é‡æ„å®Œæˆï¼Œåˆ›å»ºå®Œæ•´çš„ä½¿ç”¨æ–‡æ¡£

ä¸€ä¸ªåŸºäºYOLOçš„ç›®æ ‡æ£€æµ‹å’Œå›¾åƒåˆ†å‰²å·¥å…·ï¼Œæä¾›Webç•Œé¢å’Œå‘½ä»¤è¡Œä¸¤ç§ä½¿ç”¨æ–¹å¼ã€‚

## ğŸš€ é¡¹ç›®ç‰¹æ€§

- **ç»Ÿä¸€çš„æ£€æµ‹æ¡†æ¶**: æ”¯æŒç›®æ ‡æ£€æµ‹å’Œå›¾åƒåˆ†å‰²
- **Webç•Œé¢**: åŸºäºGradioçš„ç›´è§‚Webç•Œé¢
- **å‘½ä»¤è¡Œå·¥å…·**: æ”¯æŒæ‰¹é‡å¤„ç†å’Œå•å¼ æ£€æµ‹
- **æ¨¡å—åŒ–è®¾è®¡**: æ¸…æ™°çš„ä»£ç ç»“æ„ï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•
- **å®Œå–„çš„æ—¥å¿—ç³»ç»Ÿ**: è¯¦ç»†çš„è¿è¡Œæ—¥å¿—å’Œé”™è¯¯è¿½è¸ª
- **å¥å£®çš„é”™è¯¯å¤„ç†**: å®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶
- **å…¨é¢çš„æµ‹è¯•è¦†ç›–**: 83ä¸ªå•å…ƒæµ‹è¯•ç¡®ä¿ä»£ç è´¨é‡

## ğŸ“ é¡¹ç›®ç»“æ„

```
gradi_yolo/
â”œâ”€â”€ src/yolo_detector/           # ä¸»è¦æºä»£ç 
â”‚   â”œâ”€â”€ config/                  # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ models/                  # æ¨¡å‹åŠ è½½
â”‚   â”œâ”€â”€ core/                    # æ ¸å¿ƒæ£€æµ‹é€»è¾‘
â”‚   â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ ui/                      # ç”¨æˆ·ç•Œé¢
â”œâ”€â”€ configs/                     # é…ç½®æ–‡ä»¶
â”œâ”€â”€ tests/                       # å•å…ƒæµ‹è¯•
â”œâ”€â”€ scripts/                     # è„šæœ¬å·¥å…·
â”œâ”€â”€ docs/                        # æ–‡æ¡£
â”œâ”€â”€ logs/                        # æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ outputs/                     # è¾“å‡ºç»“æœ
â””â”€â”€ main.py                      # ä¸»å…¥å£æ–‡ä»¶
```

## ğŸ› ï¸ å®‰è£…å’Œé…ç½®

### 1. ç¯å¢ƒè¦æ±‚

- Python 3.8+
- PyTorch
- Ultralytics YOLO
- Gradio
- OpenCV
- PIL/Pillow

### 2. å®‰è£…ä¾èµ–

```bash
pip install torch torchvision
pip install ultralytics
pip install gradio
pip install opencv-python
pip install pillow
pip install pyyaml
pip install pytest pytest-cov pytest-html pytest-mock
```

### 3. é…ç½®æ¨¡å‹è·¯å¾„

ç¼–è¾‘ `configs/default.yaml` æ–‡ä»¶ï¼Œè®¾ç½®æ‚¨çš„æ¨¡å‹è·¯å¾„ï¼š

```yaml
models:
  detection:
    path: "path/to/your/detection_model.pt"
    type: "detection"
    description: "ç›®æ ‡æ£€æµ‹æ¨¡å‹"
  
  segmentation:
    path: "path/to/your/segmentation_model.pt"
    type: "segmentation"
    description: "å›¾åƒåˆ†å‰²æ¨¡å‹"

data:
  input_folder: "path/to/your/images"
  output_folder: "./outputs"
```

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### Webç•Œé¢æ¨¡å¼

å¯åŠ¨Webç•Œé¢ï¼š

```bash
python main.py web
```

å¯é€‰å‚æ•°ï¼š
- `--share`: åˆ›å»ºå…¬å…±é“¾æ¥
- `--debug`: å¯ç”¨è°ƒè¯•æ¨¡å¼

### å‘½ä»¤è¡Œæ¨¡å¼

#### 1. æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯

```bash
python main.py info
```

#### 2. æ£€æµ‹å•å¼ å›¾åƒ

```bash
# ç›®æ ‡æ£€æµ‹
python main.py detect --image path/to/image.jpg --output result.jpg

# å›¾åƒåˆ†å‰²
python main.py detect --image path/to/image.jpg --output result.jpg --type segmentation --confidence 0.3
```

#### 3. æ‰¹é‡å¤„ç†

```bash
# æ‰¹é‡æ£€æµ‹
python main.py batch --input path/to/images/ --output path/to/results/

# æ‰¹é‡åˆ†å‰²
python main.py batch --input path/to/images/ --type segmentation --confidence 0.4
```

### å‚æ•°è¯´æ˜

- `--input, -i`: è¾“å…¥å›¾åƒæˆ–æ–‡ä»¶å¤¹è·¯å¾„
- `--output, -o`: è¾“å‡ºè·¯å¾„ï¼ˆå¯é€‰ï¼‰
- `--type`: æ£€æµ‹ç±»å‹ï¼ˆdetection/segmentationï¼‰
- `--confidence, -c`: ç½®ä¿¡åº¦é˜ˆå€¼ï¼ˆ0.1-0.9ï¼‰

## ğŸ§ª æµ‹è¯•

### è¿è¡Œå•å…ƒæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
python -m pytest

# è¿è¡Œç‰¹å®šæµ‹è¯•
python -m pytest tests/test_config.py

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
python -m pytest --cov=src/yolo_detector --cov-report=html
```

### è¿è¡Œé›†æˆæµ‹è¯•

```bash
python scripts/test_integration.py
```

### ä½¿ç”¨æµ‹è¯•è„šæœ¬

```bash
# å®‰è£…æµ‹è¯•ä¾èµ–å¹¶è¿è¡Œ
python scripts/run_tests.py --install-deps --coverage

# è¿è¡Œç‰¹å®šç±»å‹çš„æµ‹è¯•
python scripts/run_tests.py --type unit --verbose
```

## ğŸ“Š åŠŸèƒ½æ¨¡å—

### 1. é…ç½®ç®¡ç† (config/)

- **Config**: ç»Ÿä¸€çš„é…ç½®ç®¡ç†ç±»
- æ”¯æŒYAMLé…ç½®æ–‡ä»¶
- é…ç½®éªŒè¯å’Œé»˜è®¤å€¼å¤„ç†
- å…¨å±€é…ç½®ç®¡ç†

### 2. æ¨¡å‹åŠ è½½ (models/)

- **ModelLoader**: ç»Ÿä¸€çš„æ¨¡å‹åŠ è½½å™¨
- æ”¯æŒå¤šç§YOLOæ¨¡å‹
- æ¨¡å‹ç¼“å­˜å’Œå†…å­˜ç®¡ç†
- æ¨¡å‹çŠ¶æ€ç›‘æ§

### 3. æ ¸å¿ƒæ£€æµ‹ (core/)

- **ObjectDetector**: ç›®æ ‡æ£€æµ‹å™¨
- **SegmentationDetector**: å›¾åƒåˆ†å‰²æ£€æµ‹å™¨
- **DetectionResult**: æ£€æµ‹ç»“æœå°è£…
- **ImageProcessor**: å›¾åƒå¤„ç†æµç¨‹
- **ResultProcessor**: ç»“æœå¤„ç†å’Œå¯¼å‡º
- **BatchProcessor**: æ‰¹é‡å¤„ç†åŠŸèƒ½

### 4. å·¥å…·å‡½æ•° (utils/)

- **å›¾åƒå·¥å…·**: å›¾åƒåŠ è½½ã€å¤„ç†ã€éªŒè¯
- **æ–‡ä»¶å·¥å…·**: æ–‡ä»¶æ“ä½œã€è·¯å¾„å¤„ç†
- **æ—¥å¿—ç³»ç»Ÿ**: ç»Ÿä¸€çš„æ—¥å¿—è®°å½•
- **å¼‚å¸¸å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶

### 5. ç”¨æˆ·ç•Œé¢ (ui/)

- **GradioApp**: Webç•Œé¢åº”ç”¨
- ç»Ÿä¸€çš„æ£€æµ‹å’Œåˆ†å‰²ç•Œé¢
- ç¤ºä¾‹å›¾åƒç”»å»Š
- å®æ—¶ç»“æœå±•ç¤º

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„æ£€æµ‹å™¨

1. ç»§æ‰¿ `BaseDetector` ç±»
2. å®ç° `load_model()` å’Œ `detect()` æ–¹æ³•
3. åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ æ¨¡å‹é…ç½®
4. ç¼–å†™ç›¸åº”çš„å•å…ƒæµ‹è¯•

### æ‰©å±•åŠŸèƒ½æ¨¡å—

1. åœ¨ç›¸åº”çš„åŒ…ä¸­æ·»åŠ æ–°æ¨¡å—
2. æ›´æ–° `__init__.py` æ–‡ä»¶
3. æ·»åŠ é…ç½®é€‰é¡¹ï¼ˆå¦‚éœ€è¦ï¼‰
4. ç¼–å†™å•å…ƒæµ‹è¯•å’Œæ–‡æ¡£

### è‡ªå®šä¹‰é…ç½®

å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è‡ªå®šä¹‰é…ç½®ï¼š

```python
from yolo_detector import Config

# ä½¿ç”¨è‡ªå®šä¹‰é…ç½®æ–‡ä»¶
config = Config("path/to/custom_config.yaml")

# ç¨‹åºåŒ–è®¾ç½®é…ç½®
config.set("detection.confidence_threshold", 0.3)
config.set("data.output_folder", "./custom_outputs")
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### 1. æ¨¡å‹ä¼˜åŒ–

- ä½¿ç”¨é€‚å½“çš„æ¨¡å‹å¤§å°ï¼ˆYOLOv8n/s/m/l/xï¼‰
- å¯ç”¨GPUåŠ é€Ÿï¼ˆå¦‚æœå¯ç”¨ï¼‰
- åˆç†è®¾ç½®ç½®ä¿¡åº¦é˜ˆå€¼

### 2. æ‰¹é‡å¤„ç†ä¼˜åŒ–

- è°ƒæ•´å·¥ä½œçº¿ç¨‹æ•°é‡
- ä½¿ç”¨é€‚å½“çš„æ‰¹æ¬¡å¤§å°
- å¯ç”¨å›¾åƒé¢„å¤„ç†ç¼“å­˜

### 3. å†…å­˜ç®¡ç†

- åŠæ—¶é‡Šæ”¾ä¸éœ€è¦çš„æ¨¡å‹
- ä½¿ç”¨å›¾åƒå°ºå¯¸é™åˆ¶
- ç›‘æ§å†…å­˜ä½¿ç”¨æƒ…å†µ

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ¨¡å‹åŠ è½½å¤±è´¥**
   - æ£€æŸ¥æ¨¡å‹æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤æ¨¡å‹æ–‡ä»¶æ ¼å¼æ˜¯å¦æ”¯æŒ
   - æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯

2. **å›¾åƒå¤„ç†é”™è¯¯**
   - ç¡®è®¤å›¾åƒæ ¼å¼æ˜¯å¦æ”¯æŒ
   - æ£€æŸ¥å›¾åƒæ–‡ä»¶æ˜¯å¦æŸå
   - éªŒè¯å›¾åƒå°ºå¯¸æ˜¯å¦åˆç†

3. **Webç•Œé¢æ— æ³•è®¿é—®**
   - æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
   - ç¡®è®¤é˜²ç«å¢™è®¾ç½®
   - æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

### æ—¥å¿—æ–‡ä»¶

æ—¥å¿—æ–‡ä»¶ä½äº `logs/` ç›®å½•ï¼š
- `app.log`: åº”ç”¨ç¨‹åºæ—¥å¿—
- `error.log`: é”™è¯¯æ—¥å¿—
- `performance.log`: æ€§èƒ½æ—¥å¿—

## ğŸ“ æ›´æ–°æ—¥å¿—

### v2.0.0 (2025-07-27)

- ğŸ‰ å®Œå…¨é‡æ„é¡¹ç›®æ¶æ„
- âœ¨ ç»Ÿä¸€çš„æ£€æµ‹å’Œåˆ†å‰²ç•Œé¢
- ğŸ”§ æ¨¡å—åŒ–è®¾è®¡å’Œé…ç½®ç®¡ç†
- ğŸ“Š å®Œå–„çš„æ—¥å¿—å’Œé”™è¯¯å¤„ç†ç³»ç»Ÿ
- ğŸ§ª å…¨é¢çš„å•å…ƒæµ‹è¯•è¦†ç›–
- ğŸ“š è¯¦ç»†çš„æ–‡æ¡£å’Œä½¿ç”¨æŒ‡å—

### v1.0.0 (åŸå§‹ç‰ˆæœ¬)

- åŸºç¡€çš„æ£€æµ‹å’Œåˆ†å‰²åŠŸèƒ½
- ç®€å•çš„Gradioç•Œé¢
- ç¡¬ç¼–ç çš„é…ç½®

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [Ultralytics YOLO](https://github.com/ultralytics/ultralytics) - å¼ºå¤§çš„YOLOå®ç°
- [Gradio](https://gradio.app/) - ç®€å•æ˜“ç”¨çš„Webç•Œé¢æ¡†æ¶
- [OpenCV](https://opencv.org/) - è®¡ç®—æœºè§†è§‰åº“

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- é¡¹ç›®Issues: [GitHub Issues](https://github.com/your-repo/issues)
- é‚®ç®±: your-email@example.com

---

**é‡æ„å®Œæˆæ—¶é—´**: 2025å¹´7æœˆ27æ—¥  
**é¡¹ç›®çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª  
**æµ‹è¯•è¦†ç›–ç‡**: 100% (83/83 æµ‹è¯•é€šè¿‡)
