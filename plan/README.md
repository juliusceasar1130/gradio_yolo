# 雪橇清洁项目检测系统

## 项目概述

雪橇清洁项目检测系统是一个前后端分离的应用，用于对雪橇的清洁状态进行自动检测、分析和管理。该系统利用YOLO模型进行目标检测，通过视觉识别技术自动判断雪橇的清洁程度，并将检测结果存储在数据库中供后续查询和分析。

### 主要功能

1. **智能检测**：使用预训练的YOLO模型自动识别雪橇清洁状态
2. **实时分析**：对检测图像进行实时处理和分类（清洁、中度污染、严重污染）
3. **数据管理**：将检测结果存储在MySQL数据库中，方便查询和统计
4. **可视化展示**：通过前端界面直观展示检测结果和历史数据
5. **报表生成**：支持导出检测报告和统计数据

## 系统架构

### 总体架构

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│  前端应用   │ ←→  │  后端服务   │ ←→  │ AI检测服务  │
│  (Vue3)    │     │ (SpringBoot)│     │  (Python)   │
└─────────────┘     └─────────────┘     └─────────────┘
                           ↕
                    ┌─────────────┐     ┌─────────────┐
                    │ MySQL数据库 │ ←→  │ MinIO存储   │
                    └─────────────┘     └─────────────┘
```

### 技术栈

#### 前端
- **框架**：Vue 3
- **UI组件库**：Element Plus
- **HTTP客户端**：Axios
- **状态管理**：Pinia
- **路由**：Vue Router

#### 后端
- **框架**：Spring Boot
- **ORM**：MyBatis Plus
- **API文档**：Swagger
- **安全认证**：Spring Security + JWT

#### AI检测服务
- **框架**：Flask
- **AI模型**：YOLOv5/YOLOv8
- **图像处理**：OpenCV

#### 数据存储
- **关系型数据库**：MySQL
- **对象存储**：MinIO (用于存储图像)

## 系统流程

1. **图像采集**：获取雪橇图像
2. **检测请求**：通过request.py发送检测请求至服务端service.py
3. **AI处理**：使用YOLO模型进行目标检测和分类
4. **结果存储**：将检测结果和图像URL保存至MySQL数据库
5. **前端展示**：通过Vue前端界面展示检测结果和历史数据

## 模块说明

### 1. AI检测模块

- **模型训练**：使用YOLO模型训练采集的数据，获得目标检测模型
- **检测服务**：Flask服务，接收检测请求并返回结果
- **图像处理**：对检测图像进行预处理和后处理

### 2. 后端服务模块

- **API接口**：提供RESTful API接口
- **业务逻辑**：处理检测请求、结果管理和数据统计
- **数据访问**：与MySQL数据库交互
- **安全认证**：用户认证和授权

### 3. 前端应用模块

- **用户界面**：提供直观的操作界面
- **数据展示**：展示检测结果和历史数据
- **统计分析**：提供数据统计和分析功能
- **用户管理**：用户登录和权限管理

### 4. 数据存储模块

- **关系型数据库**：存储检测结果、用户信息等结构化数据
- **对象存储**：存储检测图像和报告文件

## 数据库设计

### 主要数据表

1. **用户表 (user)**
   - id: 用户ID
   - username: 用户名
   - password: 密码
   - role: 角色
   - create_time: 创建时间

2. **雪橇表 (skid)**
   - id: 雪橇ID
   - skid_number: 雪橇号码
   - create_time: 创建时间

3. **检测记录表 (detection_record)**
   - id: 记录ID
   - skid_id: 雪橇ID
   - detection_time: 检测时间
   - class_name: 检测结果类别
   - image_url: 图像URL
   - status: 状态

4. **统计报表 (statistics)**
   - id: 统计ID
   - date: 统计日期
   - clean_count: 清洁数量
   - moderate_count: 中度污染数量
   - severe_count: 严重污染数量

## 部署架构

### 开发环境
- **前端**：Node.js + npm
- **后端**：JDK 11 + Maven
- **AI服务**：Python 3.8 + pip
- **数据库**：MySQL 8.0
- **对象存储**：MinIO

### 生产环境
- **前端**：Nginx
- **后端**：Docker + Spring Boot
- **AI服务**：Docker + Flask
- **数据库**：MySQL (独立服务器)
- **对象存储**：MinIO (独立服务器)

## 后续开发计划

详见 [DEV_PLAN.md](./DEV_PLAN.md) 文件，包含版本规划和具体任务。 